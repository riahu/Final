<!doctype html>
<html>
	<!-- HOMEPAGE
	(Please view this page in your favorite text editor, with one tab equivalent to 4 spaces)

	Simple&Clean
	think of the google home page, including the i'm feeling lucky button (takes you to a random monster information page)

	Desktop/Mobile Version (Same layout)
	_________________________________________________________________
				 ___________________________________
				|                                   |
				|       A logo of some kind         |
				|___________________________________|
				
				[           Search Bar              ]
				[    Search     ]   [ Feeling Lucky ]
				
				[Not your first visit? See your cart]
				
	_________________________________________________________________ -->
	<head>
		<meta charset="utf-8">
		<meta content="width=device-width, initial-scale=1.0" name="viewport">
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
		<link rel="stylesheet" href="css/styles.css">
		<title>Evo Mat Tracker</title>
        <script src="data.js" type="text/javascript">
        </script>
        <script type="text/javascript">
        window.onload = function(){
		document.querySelector(".index-search").onsubmit = function(){
				getSearch(document.getElementById("search").value,populateSearch);
				return false;
			};
			document.getElementById("homeBtn").onclick = function(){
				document.getElementById("indexPage").style.display = "inline";
				document.getElementById("detailsPage").style.display = "none";
			};
		};
		function populateSearch(data){
			var results = document.querySelector(".searchResults");
			results.innerHTML = "";
			for(var i=0;i<data.list.length;i++){
				var l = data.list[i];
				var template = document.querySelector(".searchTemplate").cloneNode(true);
				template.querySelector(".monster-name").innerHTML = l.name;
				//template.querySelector(".img-responsive").setAttribute("src","img/"+l.id+".png");
				template.querySelector(".monster-icon").setAttribute("style","background-image: url(img/"+l.id+".png);");
				template.querySelector("#details-button").setAttribute("onclick","displayDetails("+l.id+")");
				template.className = template.className.replace("template" , "");
				results.appendChild(template);
			}
			if(data.list.length < 1){
			document.getElementById("text-box").className = "text-box";
			document.getElementById("text").className = "text";	
			document.getElementById("indexPage").className = "index-container";	
			}
			document.getElementById("text-box").className = "";
			document.getElementById("text").className = "";
			document.getElementById("indexPage").className = "";	
			
		};
		
		function displayDetails(id){
			getDetails(id,populateDetails);
		};
		function populateDetails(data){
			document.getElementById("monsterName").innerHTML = data.name;
			document.getElementById("image1").setAttribute("src","full-img/"+data.id+".jpg");
			document.getElementById("image2").setAttribute("src","full-img/"+data.id+".jpg");
			document.querySelector(".hp-stat").innerHTML = data.hp;
			document.querySelector(".atk-stat").innerHTML = data.atk;
			document.querySelector(".rcv-stat").innerHTML = data.rcv;
			document.getElementById("monster-icon").setAttribute("style","background-image: url(img/"+data.id+".png);");
			document.getElementById("indexPage").style.display = "none";
			if (data.prevo.length > 0) {
				document.getElementById("preempty").style.display = "none";
				var prevoList = document.querySelector(".past-evo .panel-body")
				for (var i=0; i < data.prevo.length; ++i) {
					var template = document.querySelector(".prevo-template").cloneNode(true);
					template.querySelector("#prev-name").innerHTML = data.prevo[i].name;
					template.querySelector("#prev-icon").setAttribute("style", "background-image: url(img/"+data.prevo[i].id+".png);");
					if (data.prevo[i+1]) {
						template.querySelector("#current-name").innerHTML = data.prevo[i+1].name;
						template.querySelector("#current-icon").setAttribute("style", "background-image: url(img/"+data.prevo[i+1].id+".png);");
					}
					else {
						template.querySelector("#current-name").innerHTML = data.name;
						template.querySelector("#current-icon").setAttribute("style", "background-image: url(img/"+data.id+".png);");
					}
					for (var j=0; j < data.prevo[i].mats.length; ++j) {
						template.querySelector(".mat"+(j+1)).setAttribute("style", "background-image: url(img/"+data.prevo[i].mats[j]+".png);");
					}
					template.className = template.className.replace("template" , "");
					prevoList.appendChild(template);
					if (data.prevo[i+1]) {
						var arrowClone = document.querySelector(".arrow-template").cloneNode(true);
						arrowClone.className = arrowClone.className.replace("template", "");
						prevoList.appendChild(arrowClone);
					}
				}
			}
			document.getElementById("detailsPage").style.display = "inline";
		}
        
		</script>
	</head>
	<body>
		<div id="indexPage" class="index-container">
			<div id="text-box" class="text-box">
				<div id="text" class="text">
					<div class="container">
						<form class="form-inline index-search" action="#" role="form">
							<div class="logo logo-index"></div>
							<div class="form-group">
								<input type="search" class="form-control" id="search" placeholder="Find a monster">
							</div>
							<button type="submit" class="btn btn-default">Search</button>
							<button type="submit" class="btn btn-default">I'm feeling lucky</button>
						</form>
                        <div class="searchResults">
                        </div>
									<div class="template searchTemplate panel panel-default">
										<div class="panel-heading">
											<h3 class="monster-name"></h3>
										</div>
										<div class="panel-body">
											<div class="row">
												<div class="col col-xs-4 col-sm-2">
													<div class="monster-icon">							
													</div>
												</div>
												<div class="col col-xs-8 col-sm-8 col-xs-push-4 col-sm-push-2 col-stack">
													<div class="stack stack-1">
														<div class="text-box">
															<div class="text">
																<div class="btn btn-info" id="details-button">
																	See Details
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div> <!-- end template -->
									<!-- onClick="javascript: add("name", id)" -->
					</div>
				</div>
			</div>
		</div>
        
        
        
        
        
        	<div id="detailsPage" style="display:none;" class="container">

		<nav class="navbar navbar-default" role="navigation">
			<div class="navbar-header">
				<a href="#" id="homeBtn" type="button" class="btn btn-default navbar-btn">
					<span class="glyphicon glyphicon-home"></span>Home
				</a>
				
				<a href="#" type="button" class="btn btn-info navbar-btn pull-right tog-cart">
					<span class="glyphicon glyphicon-shopping-cart"></span>Cart
				</a>
			</div>
		</nav>
		<div class="sidebar container">
				<p>Contents</p>
				<!-- New div for each material, counted while in cart -->
				<div class="ctemp cart-item row">
					<div class="cIcon col-sm-3">
					</div>
					<div class="name col-sm-6">

					</div>
					<div class="id col-sm-3">

					</div>
				</div>				
				<!-- After all materials listed, a condensed list of the monsters that are in the cart. -->
		</div>

		<div class="row">
			<div class="col col-sm-6 hidden-xs">
				<div class="icon-full">
					<img class="img-rounded" id="image1" src="full-img/111.jpg">
				</div>
			</div>
			<div class="col col-xs-12 col-sm-6">
				<div class="row">
					<div class="col col-xs-8 col-sm-10">
						<h2 class="focus-name" id="monsterName">Vampire Lord</h2>
					</div>
					<div class="col col-xs-4 col-sm-2">
						<div class="btn btn-info" id="add-button">
							Add to Cart
						</div>
					</div>
				</div>
				<br>
				<div class="row">
					<div class="col col-xs-12 visible-xs">
						<div class="icon-full">
							<img class="img-rounded" id="image2" src="full-img/111.jpg">
						</div>
					</div>
					<br>
					<div class="col col-xs-8 col-xs-push-4 col-sm-8 col-sm-push-0 panel panel-default">
						<table class="table table-condensed">
							<tr>
								<td>HP:</td><td class="hp-stat">###</td>
							</tr>
							<tr>
								<td>ATK:</td><td class="atk-stat">###</td>
							</tr>
							<tr>
								<td>RCV:</td><td class="rcv-stat">###</td>
							</tr>
						</table>
					</div>
					<div class="col col-xs-4 col-xs-pull-8 col-sm-4 col-sm-push-0">
						<div class="monster-icon" id="monster-icon" style="background-image: url(img/111.png)"></div>
					</div>
				</div>
			</div>
		</div>
		<br>
		<div class="evo past-evo panel panel-default">
			<div class="panel-heading"><h3 class="panel-title">Previous Evolutions:</h3></div>
			<div class="panel-body list-group">
				<div class="list-group-item" id="preempty">
					<h3>No past evolutions!</h3>
				</div>
				<div class="list-group-item arrow-template template">
					<h3><span class="glyphicon glyphicon-arrow-down"></span></h3>
				</div>
				<div class="list-group-item template prevo-template">
					<div class="row"> <!-- monster label row -->
						<div class="col col-xs-4 col-sm-2">
							<div class="text-box">
								<div class="text text-center">
									<h3 id="prev-name">PREV NAME HERE</h3> <!-- previous monster -->
								</div>
							</div>
						</div>
						<div class="col col-xs-4 text-center col-sm-8">
							<h3><span class="glyphicon glyphicon-chevron-right"></span></h3>
						</div>
						<div class="col col-xs-4 col-sm-2">
							<div class="text-box">
								<div class="text text-center">
									<h3 id="current-name">CURRENT NAME HERE</h3> <!-- current monster -->
								</div>
							</div>
						</div>
					</div> <!-- end monster label row -->
					<div class="row"> <!-- monster and material icon row -->
						<div class="col col-xs-4 col-sm-2">
							<div class="monster-icon" style="" id="prev-icon"></div> <!-- previous monster -->
						</div>
						<div class="col col-xs-4 col-sm-2 col-xs-push-4 col-sm-push-8">
							<div class="monster-icon" style="" id="current-icon"></div> <!-- current monster -->
						</div>
						<div class="col col-xs-4 col-xs-pull-4 visible-xs mat-toggle" data-toggle="collapse" data-target="#materials1">
							<div class="text-box btn btn-info">
								<div class="text text-center">
									Click to see materials
								</div>
							</div>
						</div>
						<div class="clearfix visible-xs"></div>
						<div class="col col-sm-8 col-xs-12 col-sm-pull-2">
							<div class="collapse row materials" id="materials">
								<div class="col col-sm-1 hidden-xs"></div>
								<div class="col col-sm-6 col-xs-12">
									<div class="row">
										<div class="col col-xs-4">
											<div class="monster-icon mat1" style=""></div>
										</div>
										<div class="col col-xs-4">
											<div class="monster-icon mat2" style=""></div>
										</div>
										<div class="col col-xs-4">
											<div class="monster-icon mat3" style=""></div>
										</div>
									</div>
								</div>
								<div class="clearfix visible-xs"></div>
								<div class="col col-sm-4 col-xs-12">
									<div class="row">
										<div class="col col-xs-2 visible-xs"></div>
										<div class="col col-xs-4 col-sm-6">
											<div class="monster-icon mat4" style=""></div>
										</div>
										<div class="col col-xs-4 col-sm-6">
											<div class="monster-icon mat5" style=""></div>
										</div>
										<div class="col col-xs-2 visible-xs"></div>
									</div>
								</div>
								<div class="col col-sm-1 hidden-xs"></div>
							</div>
						</div>
					</div> <!-- end monster and material icon row -->
				</div>
			</div>
		</div> <!-- end past evo -->
		
		<div class="evo panel panel-default"> <!-- future evo -->
			<div class="panel-heading"><h3 class="panel-title">Future Evolution:</h3></div>
			<div class="panel-body list-group">
				<div class="list-group-item">
					<div class="row"> <!-- monster label row -->
						<div class="col col-xs-4 col-sm-2">
							<div class="text-box">
								<div class="text text-center">
									<h3>Duke Vampire Lord</h3> <!-- current monster -->
								</div>
							</div>
						</div>
						<div class="col col-xs-4 text-center col-sm-8">
							<h3><span class="glyphicon glyphicon-chevron-right"></span></h3>
						</div>
						<div class="col col-xs-4 col-sm-2">
							<div class="text-box">
								<div class="text text-center">
									<h3>[JAPANESE MONSTER]</h3> <!-- future monster -->
								</div>
							</div>
						</div>
					</div> <!-- end monster label row -->
					<div class="row">
						<div class="col col-xs-4 col-sm-2"><div class="monster-icon" style="background-image: url(img/516.png)"></div></div>
						<div class="col col-xs-4 col-sm-2 col-xs-push-4 col-sm-push-8"><div class="monster-icon" style="background-image: url(img/894.png)"></div></div>
						<div class="col col-xs-4 col-xs-pull-4 visible-xs mat-toggle" data-toggle="collapse" data-target="#materials3">
							<div class="text-box btn btn-info">
								<div class="text text-center">
									Click to see materials
								</div>
							</div>
						</div>
						<div class="clearfix visible-xs"></div>
						<div class="col col-sm-8 col-xs-12 col-sm-pull-2">
							<div class="collapse row materials" id="materials3">
								<div class="col col-sm-1 hidden-xs"></div>
								<div class="col col-sm-6 col-xs-12">
									<div class="row">
										<div class="col col-xs-4">
											<div class="monster-icon" style="background-image: url(img/151.png)"></div>
										</div>
										<div class="col col-xs-4">
											<div class="monster-icon" style="background-image: url(img/321.png)"></div>
										</div>
										<div class="col col-xs-4">
											<div class="monster-icon" style="background-image: url(img/175.png)"></div>
										</div>
									</div>
								</div>
								<div class="clearfix visible-xs"></div>
								<div class="col col-sm-4 col-xs-12">
									<div class="row">
										<div class="col col-xs-2 visible-xs"></div>
										<div class="col col-xs-4 col-sm-6">
											<div class="monster-icon" style="background-image: url(img/247.png)"></div>
										</div>
										<div class="col col-xs-4 col-sm-6">
											<div class="monster-icon" style="background-image: url(img/251.png)"></div>
										</div>
										<div class="col col-xs-2 visible-xs"></div>
									</div>
								</div>
								<div class="col col-sm-1 hidden-xs"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="list-group-item">
					<div class="row"> <!-- monster label row -->
						<div class="col col-xs-4 col-sm-2">
							<div class="text-box">
								<div class="text text-center">
									<h3>Duke Vampire Lord</h3> <!-- current monster -->
								</div>
							</div>
						</div>
						<div class="col col-xs-4 text-center col-sm-8">
							<h3><span class="glyphicon glyphicon-chevron-right"></span></h3>
						</div>
						<div class="col col-xs-4 col-sm-2">
							<div class="text-box">
								<div class="text text-center">
									<h3>[JAPANESE MONSTER]</h3> <!-- future monster -->
								</div>
							</div>
						</div>
					</div> <!-- end monster label row -->
					<div class="row">
						<div class="col col-xs-4 col-sm-2"><div class="monster-icon" style="background-image: url(img/516.png)"></div></div>
						<div class="col col-xs-4 col-sm-2 col-xs-push-4 col-sm-push-8"><div class="monster-icon" style="background-image: url(img/895.png)"></div></div>
						<div class="col col-xs-4 col-xs-pull-4 visible-xs mat-toggle" data-toggle="collapse" data-target="#materials4">
							<div class="text-box btn btn-info">
								<div class="text text-center">
									Click to see materials
								</div>
							</div>
						</div>
						<div class="clearfix visible-xs"></div>
						<div class="col col-sm-8 col-xs-12 col-sm-pull-2">
							<div class="collapse row materials" id="materials4">
								<div class="col col-sm-1 hidden-xs"></div>
								<div class="col col-sm-6 col-xs-12">
									<div class="row">
										<div class="col col-xs-4">
											<div class="monster-icon" style="background-image: url(img/151.png)"></div>
										</div>
										<div class="col col-xs-4">
											<div class="monster-icon" style="background-image: url(img/321.png)"></div>
										</div>
										<div class="col col-xs-4">
											<div class="monster-icon" style="background-image: url(img/247.png)"></div>
										</div>
									</div>
								</div>
								<div class="clearfix visible-xs"></div>
								<div class="col col-sm-4 col-xs-12">
									<div class="row">
										<div class="col col-xs-2 visible-xs"></div>
										<div class="col col-xs-4 col-sm-6">
											<div class="monster-icon" style="background-image: url(img/251.png)"></div>
										</div>
										<div class="col col-xs-4 col-sm-6">
											<div class="monster-icon" style="background-image: url(img/916.png)"></div>
										</div>
										<div class="col col-xs-2 visible-xs"></div>
									</div>
								</div>
								<div class="col col-sm-1 hidden-xs"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div> <!-- end future evo -->
	</div>
    
    
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="js/cart.js"></script>
	</body>
</html>